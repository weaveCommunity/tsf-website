{{ $dir := (.Get "dir") }}
{{ if not $dir }}
  {{ $dir = "images" }}
{{ end }}

{{/* Get all resources from a subdirectory inside this page's bundle */}}
{{ $images := .Page.Resources.Match (printf "%s/*" $dir) }}

<ul class="image-gallery">
  {{ range $images }}
    {{- $image := . -}}
    <li>
      <a href="{{ ($image.Fit "1600x1600 q50").RelPermalink }}" class="lightbox-image">
        <img src="{{ ($image.Fill "300x300 q50").RelPermalink }}">
      </a>
    </li>
  {{ end }}
</ul>